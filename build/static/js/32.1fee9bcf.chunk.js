(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[32],{1029:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(136),i=n(139),r=(n(141),n(135),n(138),n(182)),s=n(137),a=n(862);let c=class extends a.a{constructor(){super(...arguments),this.type="gcs-shift",this.tolerance=1e-8}forwardTransform(e){return"point"===(e=e.clone()).type?(e.x>180+this.tolerance&&(e.x-=360),e):(e.xmin>=180-this.tolerance?(e.xmax-=360,e.xmin-=360):e.xmax>180+this.tolerance&&(e.xmin=-180,e.xmax=180),e)}inverseTransform(e){return"point"===(e=e.clone()).type?(e.x<-this.tolerance&&(e.x+=360),e):(e.xmin<-this.tolerance&&(e.xmin+=360,e.xmax+=360),e)}};Object(o.a)([Object(r.a)({GCSShiftXform:"gcs-shift"})],c.prototype,"type",void 0),Object(o.a)([Object(i.b)()],c.prototype,"tolerance",void 0),c=Object(o.a)([Object(s.a)("esri.layers.support.rasterTransforms.GCSShiftTransform")],c);const l=c},1074:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return x}));var o=n(1029),i=n(136),r=(n(143),n(138),n(141),n(135),n(221),n(182)),s=n(137),a=n(862);let c=class extends a.a{constructor(){super(...arguments),this.type="identity"}};Object(i.a)([Object(r.a)({IdentityXform:"identity"})],c.prototype,"type",void 0),c=Object(i.a)([Object(s.a)("esri.layers.support.rasterTransforms.IdentityTransform")],c);const l=c;var f=n(741);const u={GCSShiftXform:o.a,IdentityXform:l,PolynomialXform:f.a},h=Object.keys(u);function p(e){const t=null===e||void 0===e?void 0:e.type;return!e||h.includes(t)}function x(e){if(!(null===e||void 0===e?void 0:e.type))return null;const t=u[null===e||void 0===e?void 0:e.type];if(t){const n=new t;return n.read(e),n}return null}},481:function(e,t,n){"use strict";n.d(t,"a",(function(){return J})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return Y})),n.d(t,"d",(function(){return X})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return W})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return G})),n.d(t,"i",(function(){return M})),n.d(t,"j",(function(){return v})),n.d(t,"k",(function(){return x})),n.d(t,"l",(function(){return B})),n.d(t,"m",(function(){return A}));n(163);var o,i,r=n(145),s=n(134),a=n(230),c=n(719),l=n(239),f=n(161),u=n(181),h=n(204),p=n(169);function x(e,t,n){return!Object(l.a)(e,t,n)}function m(e,t,n){const o=x(e,t,n);if(o&&!Object(l.e)())throw new r.a("rasterprojectionhelper-project","projection engine is not loaded");return o}(i=o||(o={}))[i.None=0]="None",i[i.North=1]="North",i[i.South=2]="South",i[i.Both=3]="Both";const d=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(1===n[0])return[0,0];let i=1,r=-1,s=1,a=-1;for(let d=0;d<e.length;d+=2)isNaN(e[d])||(i=i>e[d]?e[d]:i,r=r>e[d]?r:e[d],s=s>e[d+1]?e[d+1]:s,a=a>e[d+1]?a:e[d+1]);const{cols:c,rows:l}=t,f=(r-i)/c/n[0],u=(a-s)/l/n[1],h=2*o;let p=0,x=!1,m=[0,0];for(let d=0;d<c-3;d++){for(let t=0;t<l-3;t++){const n=d*l*2+2*t,o=(e[n]+e[n+4]+e[n+4*l]+e[n+4*l+4])/4,i=(e[n+1]+e[n+5]+e[n+4*l+1]+e[n+4*l+5])/4,r=Math.abs((o-e[n+2*l+2])/f),s=Math.abs((i-e[n+2*l+3])/u);if(r+s>p&&(p=r+s,m=[r,s]),h&&p>h){x=!0;break}}if(x)break}return m},y={3395:20037508.342789244,3410:17334193.943686873,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53034:20015086.79602057,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54034:20037508.342789244,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244},g=new Map,b=new Map;async function j(){if(Object(l.e)())return null;await Object(l.f)()}function O(e,t,n){return m(e.spatialReference,t)?n?Object(l.c)(t,e.spatialReference,e):Object(l.c)(e.spatialReference,t,e):null}function v(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const i=e.spatialReference;if(i.equals(t))return e;m(i,t,o);const r=n.center,c=new f.a({xmin:r.x-e.x/2,xmax:r.x+e.x/2,ymin:r.y-e.y/2,ymax:r.y+e.y/2,spatialReference:i}),u=Object(l.g)(c,t,o),h=_(t);let p;if(Object(s.j)(u)||Object(s.k)(h)&&u.width>=h){const n=Object(a.c)(i)/Object(a.c)(t);p={x:e.x*n,y:e.y*n}}else p={x:u.width,y:u.height};return p}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01;return Object(a.c)(e)?t/Object(a.c)(e):0}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=e.spatialReference;if(i.equals(t))return e;m(i,t,n);const r=Object(l.g)(e,t,n);if(!o||!r)return r;const a=z(i,!0),c=z(t,!0),f=w(i);return f&&Object(s.k)(a)&&Object(s.k)(c)&&(r.x>0&&Math.abs(e.x-a[0])<f?r.x-=c[1]-c[0]:r.x<0&&Math.abs(e.x-a[1])<f&&(r.x+=c[1]-c[0])),r}function R(e){const{inSR:t,outSR:n,datumTransformation:o,preferPE:i}=e;if(t.equals(n)){const{points:t}=k(e,null);return t}if(t.isWebMercator&&n.isWGS84||t.isWGS84&&n.isWebMercator)return function(e){const{cols:t,rows:n,xres:o,yres:i,usePixelCenter:r,inSR:s,outSR:a}=e;let{xmin:c,ymax:f}=e;r&&(c+=o/2,f-=i/2);const h=[],p=[],x=Math.max(t,n);for(let d=0;d<x;d++){const e=c+o*Math.min(t,d),r=f-i*Math.min(n,d),x=Object(l.g)(new u.a({x:e,y:r,spatialReference:s}),a);d<=t&&h.push(x.x),d<=n&&p.push(x.y)}const m=[];for(let l=0;l<t;l++)for(let e=0;e<n;e++)m.push([h[l],p[e]]);return m}(e);if(m(t,n,o)&&i){if(t.isGeographic)return C(e);const n=S(t);if(Object(s.k)(n))return C(e)}return function(e){const{points:t}=k(e,null),n=t.map((t=>new u.a(t[0],t[1],e.inSR)));return Object(l.g)(n,e.outSR,e.datumTransformation).map((e=>e?[e.x,e.y]:[NaN,NaN]))}(e)}function C(e){const{inSR:t,outSR:n,datumTransformation:o}=e,i=S(t),{points:r,mask:a}=k(e,i);if(!t.isGeographic){const e=t.wkid?c.a.coordsys(t.wkid):c.a.fromString(t.isGeographic?c.b.PE_TYPE_GEOGCS:c.b.PE_TYPE_PROJCS,t.wkt);c.c.projToGeog(e,r.length,r)}if(Object(s.k)(o)&&o.steps.length&&o.steps.forEach((e=>{const t=e.wkid?c.a.geogtran(e.wkid):c.a.fromString(c.b.PE_TYPE_GEOGTRAN,e.wkt);c.d.geogToGeog(t,r.length,r,null,e.isInverse?c.b.PE_TRANSFORM_2_TO_1:c.b.PE_TRANSFORM_1_TO_2)})),!n.isGeographic){const e=S(n,!0),t=Object(s.k)(e)&&e.isEnvelope?[e.bbox[1],e.bbox[3]]:[-90,90];!function(e,t){const[n,o]=t;for(let i=0;i<e.length;i++){const t=e[i][1];(t<n||t>o)&&(e[i]=[NaN,NaN])}}(r,t);const o=n.wkid?c.a.coordsys(n.wkid):c.a.fromString(n.isGeographic?c.b.PE_TYPE_GEOGCS:c.b.PE_TYPE_PROJCS,n.wkt);c.c.geogToProj(o,r.length,r)}let l=r;if(a&&r.length!==a.length){l=[];for(let e=0,t=0;e<a.length;e++)a[e]?l.push(r[t++]):l.push([NaN,NaN])}return l}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.wkid||e.wkt;if(!n||e.isGeographic)return null;if(n=String(n),g.has(n)){const e=g.get(n);return t?null===e||void 0===e?void 0:e.gcs:null===e||void 0===e?void 0:e.pcs}const o=e.wkid?c.a.coordsys(e.wkid):c.a.fromString(e.isGeographic?c.b.PE_TYPE_GEOGCS:c.b.PE_TYPE_PROJCS,e.wkt),i=P(o,w(e,1e-4)),r=P(o,0,!0);return g.set(n,{pcs:i,gcs:r}),t?r:i}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=c.f.generate(e),i=n?e.horizonGcsGenerate():e.horizonPcsGenerate();if(null===i||void 0===i||!i.length)return null;let r=!1,s=i.find((e=>1===e.getInclusive()&&1===e.getKind()));if(!s){if(s=i.find((e=>1===e.getInclusive()&&0===e.getKind())),!s)return null;r=!0}const a=n?0:(2===o.getNorthPoleLocation()?1:0)|(2===o.getSouthPoleLocation()?2:0),l=o.isPannableRectangle(),f=s.getCoord();if(r)return{isEnvelope:r,isPannable:l,vertices:f,coef:null,bbox:[f[0][0]-t,f[0][1]-t,f[1][0]+t,f[1][1]+t],poleLocation:a};let u=0;const h=[];let[p,x]=f[0],[m,d]=f[0];for(let c=0,y=f.length;c<y;c++){u++,u===y&&(u=0);const[e,t]=f[c],[n,o]=f[u];if(o===t)h.push([e,n,t,o,2]);else{const i=(n-e)/(o-t||1e-4),r=e-i*t;t<o?h.push([i,r,t,o,0]):h.push([i,r,o,t,1])}p=p<e?p:e,x=x<t?x:t,m=m>e?m:e,d=d>t?d:t}return{isEnvelope:!1,isPannable:l,vertices:f,coef:h,bbox:[p,x,m,d],poleLocation:a}}function k(e,t){const n=[],{cols:o,rows:i,xres:r,yres:a,usePixelCenter:c}=e;let{xmin:l,ymax:f}=e;if(c&&(l+=r/2,f-=a/2),Object(s.j)(t)){for(let e=0;e<o;e++)for(let t=0;t<i;t++)n.push([l+r*e,f-a*t]);return{points:n}}const u=new Uint8Array(o*i);if(t.isEnvelope){const{bbox:[e,s,c,h]}=t;for(let p=0,x=0;p<o;p++){const o=l+r*p,m=t.isPannable||o>=e&&o<=c;for(let e=0;e<i;e++,x++){const t=f-a*e;m&&t>=s&&t<=h&&(n.push([o,t]),u[x]=1)}}return{points:n,mask:u}}const{coef:h}=t,p=[];for(let s=0;s<i;s++){const e=f-a*s,t=[],n=[];for(let i=0;i<h.length;i++){const[o,r,s,a,c]=h[i];if(e===s&&s===a)t.push(o),t.push(r),n.push(2),n.push(2);else if(e>=s&&e<=a){const i=o*e+r;t.push(i),n.push(c)}}let o=t;if(t.length>2){let e=2===n[0]?0:n[0],i=t[0];o=[];for(let r=1;r<n.length;r++)2===n[r]&&r!==n.length-1||(n[r]!==e&&(o.push(0===e?Math.min(i,t[r-1]):Math.max(i,t[r-1])),e=n[r],i=t[r]),r===n.length-1&&o.push(0===n[r]?Math.min(i,t[r]):Math.max(i,t[r])));o.sort(((e,t)=>e-t))}else t[0]>t[1]&&(o=[t[1],t[0]]);p.push(o)}for(let s=0,x=0;s<o;s++){const e=l+r*s;for(let t=0;t<i;t++,x++){const o=f-a*t,i=p[t];if(2===i.length)e>=i[0]&&e<=i[1]&&(n.push([e,o]),u[x]=1);else if(i.length>2){let t=!1;for(let n=0;n<i.length;n+=2)if(e>=i[n]&&e<=i[n+1]){t=!0;break}t&&(n.push([e,o]),u[x]=1)}}}return{points:n,mask:u}}function T(e){const t=_(e[0].spatialReference);if(e.length<2||Object(s.j)(t))return e[0];let{xmin:n,xmax:o,ymin:i,ymax:r}=e[0];for(let s=1;s<e.length;s++){const n=e[s];o=n.xmax+t*s,i=Math.min(i,n.ymin),r=Math.max(r,n.ymax)}return new f.a({xmin:n,xmax:o,ymin:i,ymax:r,spatialReference:e[0].spatialReference})}function G(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=e.spatialReference;if(r.equals(t))return e;const a=W(e),c=_(r,!0),u=_(t);if(0===a||Object(s.j)(c)||Object(s.j)(u)){const a=E(e,t,n,i);if(Object(s.j)(c)&&Object(s.k)(u)&&Math.abs(a.width-u)<w(t)&&Object(l.e)()){const n=S(r);if(Object(s.k)(n)&&n.poleLocation===o.None&&e.width<(n.bbox[2]-n.bbox[0])/2)return N(e,t)||a}return a}const h=e.clone().normalize();if(1===h.length&&e.xmax<c&&e.xmax-c/2>w(r)){const{xmin:t,xmax:n}=e;for(let o=0;o<=a;o++){const i=0===o?t:-c/2,s=o===a?n-c*o:c/2;h[o]=new f.a({xmin:i,xmax:s,ymin:e.ymin,ymax:e.ymax,spatialReference:r})}}return T(h.map((e=>E(e,t,n,i))).filter((e=>!!e)))}function N(e,t){const n=_(t);if(Object(s.j)(n))return null;let{xmin:o,ymin:i,xmax:r,ymax:a}=e;const c=e.spatialReference,u=new h.a({spatialReference:c,rings:[[[o,i],[r,i],[r,a],[o,a],[o,i]]]}),p=Object(l.g)(u,t);if(2!==p.rings.length||!p.rings[0].length||!p.rings[1].length)return null;const{rings:x}=p,m=w(c),d=new f.a({spatialReference:t});for(let s=0;s<2;s++){o=r=x[s][0][0],i=a=x[s][0][1];for(let e=0;e<x[s].length;e++)o=o>x[s][e][0]?x[s][e][0]:o,r=r<x[s][e][0]?x[s][e][0]:r,i=i>x[s][e][1]?x[s][e][1]:i,a=a<x[s][e][1]?x[s][e][1]:a;if(0===s)d.ymin=i,d.ymax=a,d.xmin=o,d.xmax=r;else if(d.ymin=Math.min(d.ymin,i),d.ymax=Math.max(d.ymax,a),Math.abs(r-n/2)<m)d.xmin=o,d.xmax=d.xmax+n;else{if(!(Math.abs(o+n/2)<m))return null;d.xmax=r+n}}return d}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const r=e.spatialReference;if(r.equals(t))return e;m(r,t,n);const a=Object(l.g)(e,t,n);if(i&&t.isWebMercator&&a&&(a.ymax=Math.min(20037508.342787,a.ymax),a.ymin=Math.max(-20037508.342787,a.ymin),a.ymin>=a.ymax))return null;if(!o||!a)return a;const c=z(r,!0),f=z(t,!0);if(Object(s.j)(c)||Object(s.j)(f))return a;const h=w(r,.001),p=w(r,500),x=w(t,.001);if(Math.abs(a.xmin-f[0])<x&&Math.abs(a.xmax-f[1])<x){const o=Math.abs(e.xmin-c[0]),i=Math.abs(c[1]-e.xmax);if(o<h&&i>p){a.xmin=f[0];const o=[];o.push(new u.a(e.xmax,e.ymin,r)),o.push(new u.a(e.xmax,(e.ymin+e.ymax)/2,r)),o.push(new u.a(e.xmax,e.ymax,r));const i=o.map((e=>M(e,t,n))).filter((e=>!isNaN(null===e||void 0===e?void 0:e.x))).map((e=>e.x));a.xmax=Math.max.apply(null,i)}if(i<h&&o>p){a.xmax=f[1];const o=[];o.push(new u.a(e.xmin,e.ymin,r)),o.push(new u.a(e.xmin,(e.ymin+e.ymax)/2,r)),o.push(new u.a(e.xmin,e.ymax,r));const i=o.map((e=>M(e,t,n))).filter((e=>!isNaN(null===e||void 0===e?void 0:e.x))).map((e=>e.x));a.xmin=Math.min.apply(null,i)}}else{const e=w(t,.001);Math.abs(a.xmin-f[0])<e&&(a.xmin=f[0]),Math.abs(a.xmax-f[1])<e&&(a.xmax=f[1])}return a}function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t?20037508.342787:20037508.342788905;return e.isWebMercator?2*n:e.wkid&&e.isGeographic?360:2*y[e.wkid]||null}function z(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.isGeographic)return[-180,180];const n=_(e,t);return Object(s.k)(n)?[-n/2,n/2]:null}function I(e,t,n,o){let i=(e-t)/n;return i-Math.floor(i)!=0?i=Math.floor(i):o&&(i-=1),i}function W(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=_(e.spatialReference);if(Object(s.j)(n))return 0;const o=t?0:-n/2,i=w(e.spatialReference),r=!t&&Math.abs(e.xmax-n/2)<i?n/2:e.xmax,a=!t&&Math.abs(e.xmin+n/2)<i?-n/2:e.xmin;return I(r,o,n,!0)-I(a,o,n,!1)}function X(e){const t=e.storageInfo.origin.x,n=_(e.spatialReference,!0);if(Object(s.j)(n))return{originX:t,halfWorldWidth:null,pyramidsInfo:null};const o=n/2,{nativePixelSize:i,storageInfo:r,extent:a}=e,{maximumPyramidLevel:c,blockWidth:l,pyramidScalingFactor:f}=r;let u=i.x;const h=[],p=Object(s.k)(e.transform)&&"gcs-shift"===e.transform.type,x=t+(p?0:o),m=p?n-t:o-t;for(let s=0;s<=c;s++){const e=(a.xmax-t)/u/l,n=e-Math.floor(e)==0?e:Math.ceil(e),o=m/u/l,i=o-Math.floor(o)==0?o:Math.ceil(o),r=Math.floor(x/u/l),s=Math.round(x/u)%l,c=(l-Math.round(m/u)%l)%l;h.push({resolutionX:u,blockWidth:l,datsetColumnCount:n,worldColumnCountFromOrigin:i,leftMargin:s,rightPadding:c,originColumnOffset:r}),u*=f}return{originX:t,halfWorldWidth:o,pyramidsInfo:h,hasGCSSShiftTransform:p}}function Y(e){const t=e.isAdaptive&&null==e.spacing;let n=e.spacing||[32,32],o=L(e),i={cols:o.size[0]+1,rows:o.size[1]+1};const r=o.outofBoundPointCount>0&&o.outofBoundPointCount<o.offsets.length/2;let a=o.outofBoundPointCount===o.offsets.length/2||t&&r?[0,0]:d(o.offsets,i,n,4);const l=(a[0]+a[1])/2,f=e.projectedExtent.spatialReference,u=e.srcBufferExtent.spatialReference;if(t&&(r||l>4)&&(x(f,u,e.datumTransformation)&&(f.isGeographic||Object(s.k)(S(f))),n=[4,4],o=L({...e,spacing:n}),i={cols:o.size[0]+1,rows:o.size[1]+1},a=d(o.offsets,i,n,4)),o.error=a,n[0]>1&&(o.coefficients=F(o.offsets,i,r)),e.includeGCSGrid&&!f.isGeographic&&!f.isWebMercator)if(u.isGeographic)o.gcsGrid={offsets:o.offsets,coefficients:o.coefficients,spacing:n};else{const t=S(f);if(Object(s.k)(t)&&!t.isEnvelope){const t=function(e){if(!e||e.isGeographic)return e;const t=String(e.wkid||e.wkt);let n;return b.has(t)?n=b.get(t):(n=(e.wkid?c.a.coordsys(e.wkid):c.a.fromString(c.b.PE_TYPE_PROJCS,e.wkt)).getGeogcs().getCode(),b.set(t,n)),new p.a({wkid:n})}(f),s=G(e.projectedExtent,t),{offsets:a}=L({...e,srcBufferExtent:s,spacing:n}),l=F(a,i,r);o.gcsGrid={offsets:a,coefficients:l,spacing:n}}}return o}function L(e){const{projectedExtent:t,srcBufferExtent:n,pixelSize:o,datumTransformation:i,rasterTransform:r}=e,a=t.spatialReference,c=n.spatialReference,l=m(a,c),{xmin:f,ymin:h,xmax:p,ymax:x}=t,d=_(c),y=Object(s.k)(d)&&(e.hasWrapAround||"gcs-shift"===(null===r||void 0===r?void 0:r.type)),g=e.spacing||[32,32],b=g[0]*o.x,j=g[1]*o.y,O=1===g[0],v=Math.ceil((p-f)/b-.1/g[0])+(O?0:1),M=Math.ceil((x-h)/j-.1/g[1])+(O?0:1),C=R({cols:v,rows:M,xmin:f,ymax:x,xres:b,yres:j,inSR:a,outSR:c,datumTransformation:i,preferPE:g[0]<=4,usePixelCenter:O}),P=[];let k,T=0;const G=O?-1:NaN,{xmin:N,xmax:E,ymax:z,width:I,height:W}=n,X=w(c,500),Y=Object(s.k)(d)&&N>0&&E>d/2;let L=!1;if(l){const e=S(a);L=Object(s.k)(e)&&e.poleLocation>0}for(let s=0;s<v;s++){const e=[];for(let t=0;t<M;t++){let n=C[s*M+t];if(y&&n[0]>E&&n[0]>d/2-X?n[0]-=d:y&&0===s&&n[0]<0&&Y&&!r&&(n[0]+=d),!n||isNaN(n[0])||isNaN(n[1]))P.push(G),P.push(G),e.push(null),T++;else{if(r){const e=r.inverseTransform(new u.a({x:n[0],y:n[1],spatialReference:c}));n=[e.x,e.y]}e.push(n),s>0&&y&&k[t]&&n[0]<k[t][0]&&(n[0]+=d,L&&n[0]>E&&n[0]>d&&(n[0]-=d)),P.push((n[0]-N)/I),P.push((z-n[1])/W)}}k=e}return{offsets:P,error:null,coefficients:null,outofBoundPointCount:T,spacing:g,size:O?[v,M]:[v-1,M-1]}}function F(e,t,n){const{cols:o,rows:i}=t,r=new Float32Array((o-1)*(i-1)*2*6),s=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),a=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let c=0;c<o-1;c++){for(let t=0;t<i-1;t++){let n=c*i*2+2*t;const l=e[n],f=e[n+1],u=e[n+2],h=e[n+3];n+=2*i;const p=e[n],x=e[n+1],m=e[n+2],d=e[n+3];let y=0,g=12*(t*(o-1)+c);for(let e=0;e<3;e++)r[g++]=s[y++]*l+s[y++]*u+s[y++]*m;y=0;for(let e=0;e<3;e++)r[g++]=s[y++]*f+s[y++]*h+s[y++]*d;y=0;for(let e=0;e<3;e++)r[g++]=a[y++]*l+a[y++]*p+a[y++]*m;y=0;for(let e=0;e<3;e++)r[g++]=a[y++]*f+a[y++]*x+a[y++]*d}if(n)for(let e=0;e<r.length;e++)isNaN(r[e])&&(r[e]=-1)}return r}function B(e){const t=e.clone().normalize();return 1===t.length?t[0]:T(t)}function A(e,t,n){const{storageInfo:o,pixelSize:i}=t;let r,c=!1;const{pyramidResolutions:l}=o;if(Object(s.k)(l)&&l.length){const o=(e.x+e.y)/2,s=l[l.length-1],f=(s.x+s.y)/2,h=(i.x+i.y)/2;if(o<=h)r=0;else if(o>=f)r=l.length,c=o/f>8;else{let e,t=h;for(let i=1;i<=l.length;i++){if(e=(l[i-1].x+l[i-1].y)/2,o<=e){o===e?r=i:"down"===n?(r=i-1,c=o/t>8):r="up"===n||o-t>e-o||o/t>2?i:i-1;break}t=e}}const p=0===r?i:l[r-1];return c&&Math.min(p.x,p.y)*Object(a.c)(t.spatialReference)>19567&&(c=!1),{pyramidLevel:r,pyramidResolution:new u.a({x:p.x,y:p.y,spatialReference:t.spatialReference}),excessiveReading:c}}const f=Math.log(e.x/i.x)/Math.LN2,h=Math.log(e.y/i.y)/Math.LN2,p=t.storageInfo.maximumPyramidLevel||0;r="down"===n?Math.floor(Math.min(f,h)):"up"===n?Math.ceil(Math.max(f,h)):Math.round((f+h)/2),r<0?r=0:r>p&&(c=r>p+3,r=p);const x=2**r;return{pyramidLevel:r,pyramidResolution:new u.a({x:x*t.nativePixelSize.x,y:x*t.nativePixelSize.y,spatialReference:t.spatialReference}),excessiveReading:c}}function J(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const{extent:i,spatialReference:r,pixelSize:s}=e,c=v(new u.a({x:s.x,y:s.y,spatialReference:r}),t,i);if(null==c)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const l=(c.x+c.y)/2,f=Object(a.c)(t),h=l*f*96*39.37,p=t.isGeographic?256/n*295828763.7958547:256/n*591657527.591555;let x="vector-magdir"===e.dataType||"vector-uv"===e.dataType;const m=G(i,t);x||o&&(t.isGeographic||t.isWebMercator)&&(x=m.xmin*m.xmax<0);let d,y=h;const g=1.001;if(x){y=p;const e=t.isGeographic?1341104507446289e-21:.29858214164761665,n=e*(96*f*39.37),o=t.isGeographic?4326:3857;d=v(new u.a({x:e,y:e,spatialReference:{wkid:o}}),r,m),d.x*=y/n,d.y*=y/n}else{d={x:s.x,y:s.y};const t=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let n=0;for(;y<p*(g/2)&&n<t;)n++,y*=2,d.x*=2,d.y*=2;Math.max(y,p)/Math.min(y,p)<=g&&(y=p)}const b=[y],j=[{x:d.x,y:d.y}],O=70.5310735,w=Math.min(O,h)/g;for(;y>=w;)y/=2,d.x/=2,d.y/=2,b.push(y),j.push({x:d.x,y:d.y});return{projectedPixelSize:c,scales:b,srcResolutions:j,isCustomTilingScheme:!x}}},741:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var o=n(136),i=(n(163),n(139)),r=(n(141),n(135),n(138),n(182)),s=n(173),a=n(137),c=n(176),l=n(862),f=n(181),u=n(161);function h(e,t,n){const{x:o,y:i}=t;if(n<2)return{x:e[0]+o*e[2]+i*e[4],y:e[1]+o*e[3]+i*e[5]};if(2===n){const t=o*o,n=i*i,r=o*i;return{x:e[0]+o*e[2]+i*e[4]+t*e[6]+r*e[8]+n*e[10],y:e[1]+o*e[3]+i*e[5]+t*e[7]+r*e[9]+n*e[11]}}const r=o*o,s=i*i,a=o*i,c=r*o,l=r*i,f=o*s,u=i*s;return{x:e[0]+o*e[2]+i*e[4]+r*e[6]+a*e[8]+s*e[10]+c*e[12]+l*e[14]+f*e[16]+u*e[18],y:e[1]+o*e[3]+i*e[5]+r*e[7]+a*e[9]+s*e[11]+c*e[13]+l*e[15]+f*e[17]+u*e[19]}}function p(e,t,n){const{xmin:o,ymin:i,xmax:r,ymax:s,spatialReference:a}=t;let c=[];if(n<2)c.push({x:o,y:s}),c.push({x:r,y:s}),c.push({x:o,y:i}),c.push({x:r,y:i});else{let e=10;for(let t=0;t<e;t++)c.push({x:o,y:i+(s-i)*t/(e-1)}),c.push({x:r,y:i+(s-i)*t/(e-1)});e=8;for(let t=1;t<=e;t++)c.push({x:o+(r-o)*t/e,y:i}),c.push({x:o+(r-o)*t/e,y:s})}c=c.map((t=>h(e,t,n)));const l=c.map((e=>e.x)),f=c.map((e=>e.y));return new u.a({xmin:Math.min.apply(null,l),xmax:Math.max.apply(null,l),ymin:Math.min.apply(null,f),ymax:Math.max.apply(null,f),spatialReference:a})}let x=class extends l.a{constructor(){super(...arguments),this.polynomialOrder=1,this.type="polynomial"}readForwardCoefficients(e,t){const{coeffX:n,coeffY:o}=t;if(null===n||void 0===n||!n.length||null===o||void 0===o||!o.length||n.length!==o.length)return null;const i=[];for(let r=0;r<n.length;r++)i.push(n[r]),i.push(o[r]);return i}writeForwardCoefficients(e,t,n){const o=[],i=[];for(let r=0;r<(null===e||void 0===e?void 0:e.length);r++)r%2==0?o.push(e[r]):i.push(e[r]);t.coeffX=o,t.coeffY=i}get inverseCoefficients(){let e=this._get("inverseCoefficients");const t=this._get("forwardCoefficients");return!e&&t&&this.polynomialOrder<2&&(e=function(e){const[t,n,o,i,r,s]=e,a=o*s-r*i,c=r*i-o*s;return[(r*n-t*s)/a,(o*n-t*i)/c,s/a,i/c,-r/a,-o/c]}(t)),e}set inverseCoefficients(e){this._set("inverseCoefficients",e)}readInverseCoefficients(e,t){const{inverseCoeffX:n,inverseCoeffY:o}=t;if(null===n||void 0===n||!n.length||null===o||void 0===o||!o.length||n.length!==o.length)return null;const i=[];for(let r=0;r<n.length;r++)i.push(n[r]),i.push(o[r]);return i}writeInverseCoefficients(e,t,n){const o=[],i=[];for(let r=0;r<(null===e||void 0===e?void 0:e.length);r++)r%2==0?o.push(e[r]):i.push(e[r]);t.inverseCoeffX=o,t.inverseCoeffY=i}get affectsPixelSize(){return this.polynomialOrder>0}forwardTransform(e){if("point"===e.type){const t=h(this.forwardCoefficients,e,this.polynomialOrder);return new f.a({x:t.x,y:t.y,spatialReference:e.spatialReference})}return p(this.forwardCoefficients,e,this.polynomialOrder)}inverseTransform(e){if("point"===e.type){const t=h(this.inverseCoefficients,e,this.polynomialOrder);return new f.a({x:t.x,y:t.y,spatialReference:e.spatialReference})}return p(this.inverseCoefficients,e,this.polynomialOrder)}};Object(o.a)([Object(i.b)({json:{write:!0}})],x.prototype,"polynomialOrder",void 0),Object(o.a)([Object(i.b)()],x.prototype,"forwardCoefficients",void 0),Object(o.a)([Object(s.a)("forwardCoefficients",["coeffX","coeffY"])],x.prototype,"readForwardCoefficients",null),Object(o.a)([Object(c.a)("forwardCoefficients")],x.prototype,"writeForwardCoefficients",null),Object(o.a)([Object(i.b)({json:{write:!0}})],x.prototype,"inverseCoefficients",null),Object(o.a)([Object(s.a)("inverseCoefficients",["inverseCoeffX","inverseCoeffY"])],x.prototype,"readInverseCoefficients",null),Object(o.a)([Object(c.a)("inverseCoefficients")],x.prototype,"writeInverseCoefficients",null),Object(o.a)([Object(i.b)()],x.prototype,"affectsPixelSize",null),Object(o.a)([Object(r.a)({PolynomialXform:"polynomial"})],x.prototype,"type",void 0),x=Object(o.a)([Object(a.a)("esri.layers.support.rasterTransforms.PolynomialTransform")],x);const m=x},862:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(136),i=n(150),r=n(139),s=(n(141),n(135),n(138),n(137));let a=class extends i.a{get affectsPixelSize(){return!1}forwardTransform(e){return e}inverseTransform(e){return e}};Object(o.a)([Object(r.b)()],a.prototype,"affectsPixelSize",null),Object(o.a)([Object(r.b)({json:{write:!0}})],a.prototype,"spatialReference",void 0),a=Object(o.a)([Object(s.a)("esri.layers.support.rasterTransforms.BaseRasterTransform")],a);const c=a}}]);