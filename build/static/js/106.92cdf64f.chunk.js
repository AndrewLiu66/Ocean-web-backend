(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[106],{544:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(135),r=n(721),o=n(168),s=n(475),a=n(493),c=n(343),l=n(140);function b(t){return p[function(t){return t instanceof Blob?t.type:function(t){const e=Object(o.p)(t);return O[e]||u}(t.url)}(t)]||j}const p={},u="text/plain",j=p[u],O={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"};for(const v in O)p[O[v]]=v;var y=n(272);function d(t){const e=Object(i.k)(t)&&t.origins?t.origins:[void 0];return(n,s)=>{const p=function(t,e,n){if(Object(i.k)(t)&&"resource"===t.type)return function(t,e,n){const s=Object(a.b)(e,n);return{type:String,read:(t,e,n)=>{const i=Object(y.f)(t,e,n);return s.type===String?i:"function"==typeof s.type?new s.type({url:i}):void 0},write:{writer(e,a,l,p){if(!p||!p.resources)return"string"==typeof e?void(a[l]=Object(y.g)(e,p)):void(a[l]=e.write({},p));const u=function(t){return Object(i.j)(t)?null:"string"==typeof t?t:t.url}(e),j=u?Object(y.g)(u,{...p,verifyItemRelativeUrls:p&&p.verifyItemRelativeUrls?{writtenUrls:p.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},y.a.NO):null,O=s.type!==String&&(!Object(r.a)(this)||p&&p.origin&&this.originIdOf(n)>Object(c.e)(p.origin));p&&p.portalItem&&Object(i.k)(j)&&!Object(o.u)(j)?O?function(t,e,n,i,r,s,a,c){const l=a.portalItem.resourceFromPath(i),p=g(n,i,a);b(p)===Object(o.p)(l.path)?(f(t,e,l,p,a.resources.toUpdate),r[s]=i):h(t,e,n,i,r,s,a,c)}(this,n,e,j,a,l,p,t):function(t,e,n,i){i.resources.toKeep.push({resource:i.portalItem.resourceFromPath(t)}),e[n]=t}(j,a,l,p):p&&p.portalItem&&(Object(i.j)(j)||Object(i.k)(Object(y.d)(j))||Object(o.v)(j)||O)?h(this,n,e,j,a,l,p,t):a[l]=j}}}}(t,e,n);switch(Object(i.k)(t)&&t.type?t.type:"other"){case"other":return{read:!0,write:!0};case"url":{const{read:t,write:e}=y.e;return{read:t,write:e}}}}(t,n,s);for(const t of e){const e=Object(l.c)(n,t,s);for(const t in p)e[t]=p[t]}}}function h(t,e,r,a,c,l,p,u){const j=Object(s.a)(),O=g(r,a,p),y=Object(o.B)(Object(i.i)(u,"prefix"),j),d="".concat(y,".").concat(b(O)),h=p.portalItem.resourceFromPath(d);Object(o.v)(a)&&p.resources.pendingOperations.push(async function(t){const e=(await Promise.resolve().then(n.bind(null,167))).default,{data:i}=await e(t,{responseType:"blob"});return i}(a).then((t=>{h.path="".concat(y,".").concat(b(t)),c[l]=h.itemRelativeUrl})).catch((()=>{}))),f(t,e,h,O,p.resources.toAdd),c[l]=h.itemRelativeUrl}function f(t,e,n,i,r){r.push({resource:n,content:i,finish:n=>{!function(t,e,n){"string"==typeof t[e]?t[e]=n.url:t[e].url=n.url}(t,e,n)}})}function g(t,e,n){return"string"==typeof t?{url:e}:new Blob([JSON.stringify(t.toJSON(n))],{type:"application/json"})}},652:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return T}));var i=n(137),r=n(163),o=n(218),s=n(265),a=n(151),c=n(135),l=n(140),b=(n(142),n(136),n(139),n(138));let p=0,u=class extends(Object(a.b)(Object(o.b)(Object(s.a)(r.a)))){constructor(t){super(t),this.id="".concat(Date.now().toString(16),"-analysis-").concat(p++),this.title=null}get parent(){return this._get("parent")}set parent(t){const e=this.parent;if(Object(c.k)(e))switch(e.type){case"line-of-sight":e.removeAnalysis(this);break;case"2d":case"3d":e.analyses.includes(this)&&e.analyses.remove(this)}this._set("parent",t)}get isEditable(){return this.requiredPropertiesForEditing.every(c.k)}};Object(i.a)([Object(l.b)({type:String,constructOnly:!0,clonable:!1})],u.prototype,"id",void 0),Object(i.a)([Object(l.b)({type:String})],u.prototype,"title",void 0),Object(i.a)([Object(l.b)({constructOnly:!0})],u.prototype,"type",void 0),Object(i.a)([Object(l.b)({clonable:!1,value:null})],u.prototype,"parent",null),Object(i.a)([Object(l.b)({readOnly:!0})],u.prototype,"extent",void 0),Object(i.a)([Object(l.b)({readOnly:!0})],u.prototype,"isEditable",null),Object(i.a)([Object(l.b)({readOnly:!0})],u.prototype,"requiredPropertiesForEditing",void 0),Object(i.a)([Object(l.b)({readOnly:!0})],u.prototype,"nonEditableMessage",void 0),u=Object(i.a)([Object(b.a)("esri.analysis.Analysis")],u);const j=u;function O(t,e){return y(t)===y(e)}function y(t){if(Object(c.j)(t))return null;const e=null!=t.layer?t.layer.id:"";let n=null;return n=null!=t.objectId?t.objectId:null!=t.layer&&"objectIdField"in t.layer&&null!=t.layer.objectIdField&&null!=t.attributes?t.attributes[t.layer.objectIdField]:t.uid,null==n?null:"o-".concat(e,"-").concat(n)}const d={json:{write:{writer:function(t,e){var n;Object(c.j)(t)||null==(null===(n=t.layer)||void 0===n?void 0:n.objectIdField)||null==t.attributes||(e.feature={layerId:t.layer.id,objectId:t.attributes[t.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function(t){if(null!=t.layerId&&null!=t.objectId)return{uid:null,layer:{id:t.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:t.objectId}}}}}}};var h=n(544),f=n(182),g=n(582);let v=class extends(Object(a.b)(Object(o.b)(r.a))){constructor(t){super(t),this.position=null,this.elevationInfo=null,this.feature=null}equals(t){return Object(c.f)(this.position,t.position)&&Object(c.f)(this.elevationInfo,t.elevationInfo)&&O(this.feature,t.feature)}};Object(i.a)([Object(l.b)({type:f.a}),Object(h.a)()],v.prototype,"position",void 0),Object(i.a)([Object(l.b)({type:g.a}),Object(h.a)()],v.prototype,"elevationInfo",void 0),Object(i.a)([Object(l.b)(d)],v.prototype,"feature",void 0),v=Object(i.a)([Object(b.a)("esri.analysis.LineOfSightAnalysisObserver")],v);const m=v;let w=class extends(Object(a.b)(o.a)){constructor(t){super(t),this.position=null,this.elevationInfo=null,this.feature=null}equals(t){return Object(c.f)(this.position,t.position)&&Object(c.f)(this.elevationInfo,t.elevationInfo)&&O(this.feature,t.feature)}};Object(i.a)([Object(l.b)({type:f.a}),Object(h.a)()],w.prototype,"position",void 0),Object(i.a)([Object(l.b)({type:g.a}),Object(h.a)()],w.prototype,"elevationInfo",void 0),Object(i.a)([Object(l.b)(d)],w.prototype,"feature",void 0),w=Object(i.a)([Object(b.a)("esri.analysis.LineOfSightAnalysisTarget")],w);const I=w;var x=n(186),k=n(283),E=n(162),S=n(240),F=n(402);n(972);function R(t,e){return function(t,e){return Object(c.j)(e)||!e.mode?t?"absolute-height":"on-the-ground":e.mode}(!!Object(c.k)(t)&&t.hasZ,e)}const z=x.a.ofType(I);let L=class extends j{constructor(t){super(t),this.type="line-of-sight",this.observer=null,this.extent=null,this.nonEditableMessage="Assign an observer location to the analysis to allow editing."}initialize(){this.own(Object(E.e)((()=>this._computeExtent()),(t=>{(Object(c.j)(t)||Object(c.j)(t.pending))&&this._set("extent",Object(c.k)(t)?t.extent:null)}),E.d))}get targets(){return this._get("targets")||new z}set targets(t){this._set("targets",Object(k.b)(t,this.targets,z))}get spatialReference(){return Object(c.k)(this.observer)&&Object(c.k)(this.observer.position)?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[Object(c.b)(this.observer,(t=>t.position))]}async waitComputeExtent(){const t=this._computeExtent();return Object(c.k)(t)?Object(c.q)(t.pending):null}_computeExtent(){const t=this.spatialReference;if(Object(c.j)(this.observer)||Object(c.j)(this.observer.position)||Object(c.j)(t))return null;const e=t=>"absolute-height"===R(t.position,t.elevationInfo),n=this.observer.position,i=Object(F.i)(n.x,n.y,n.z,n.x,n.y,n.z);for(const o of this.targets)if(Object(c.k)(o.position)){const e=Object(S.j)(o.position,t);if(Object(c.k)(e.pending))return{pending:e.pending,extent:null};if(Object(c.k)(e.geometry)){const{x:t,y:n,z:r}=e.geometry;Object(F.g)(i,[t,n,r])}}const r=Object(F.n)(i,t);return e(this.observer)&&this.targets.every(e)||(r.zmin=null,r.zmax=null),{pending:null,extent:r}}clear(){this.observer=null,this.targets.removeAll()}};Object(i.a)([Object(l.b)({type:["line-of-sight"]})],L.prototype,"type",void 0),Object(i.a)([Object(l.b)({type:m,json:{read:!0,write:!0}})],L.prototype,"observer",void 0),Object(i.a)([Object(l.b)({cast:k.a,type:z,nonNullable:!0,json:{read:!0,write:!0}})],L.prototype,"targets",null),Object(i.a)([Object(l.b)({value:null,readOnly:!0})],L.prototype,"extent",void 0),Object(i.a)([Object(l.b)({readOnly:!0})],L.prototype,"spatialReference",null),Object(i.a)([Object(l.b)({readOnly:!0})],L.prototype,"requiredPropertiesForEditing",null),Object(i.a)([Object(l.b)({readOnly:!0})],L.prototype,"nonEditableMessage",void 0),L=Object(i.a)([Object(b.a)("esri.analysis.LineOfSightAnalysis")],L);const P=L;var A=n(248),U=n(261),_=n(282);const q=x.a.ofType(I);let N=class extends(Object(_.a)(Object(A.a)(U.a))){constructor(t){super(t),this.type="line-of-sight",this.operationalLayerType="LineOfSightLayer",this.analysis=new P,this.opacity=1}initialize(){this.own(Object(E.e)((()=>this.analysis),((t,e)=>{Object(c.k)(e)&&e.parent===this&&(e.parent=null),Object(c.k)(t)&&(t.parent=this)}),E.d))}async load(){return Object(c.k)(this.analysis)&&this.addResolvingPromise(this.analysis.waitComputeExtent()),this}get observer(){return Object(c.b)(this.analysis,(t=>t.observer))}set observer(t){Object(c.b)(this.analysis,(e=>e.observer=t))}get targets(){return Object(c.k)(this.analysis)?this.analysis.targets:null}set targets(t){Object(c.b)(this.analysis,(e=>e.targets=t))}get fullExtent(){return Object(c.k)(this.analysis)?this.analysis.extent:null}get spatialReference(){return Object(c.k)(this.analysis)?this.analysis.spatialReference:null}removeAnalysis(t){this.analysis===t&&(this.analysis=new P)}};Object(i.a)([Object(l.b)({json:{read:!1},readOnly:!0})],N.prototype,"type",void 0),Object(i.a)([Object(l.b)({type:["LineOfSightLayer"]})],N.prototype,"operationalLayerType",void 0),Object(i.a)([Object(l.b)({type:m,json:{read:!0,write:{ignoreOrigin:!0}}})],N.prototype,"observer",null),Object(i.a)([Object(l.b)({type:q,json:{read:!0,write:{ignoreOrigin:!0}}})],N.prototype,"targets",null),Object(i.a)([Object(l.b)({nonNullable:!0,json:{read:!1,write:!1}})],N.prototype,"analysis",void 0),Object(i.a)([Object(l.b)({readOnly:!0})],N.prototype,"fullExtent",null),Object(i.a)([Object(l.b)({readOnly:!0})],N.prototype,"spatialReference",null),Object(i.a)([Object(l.b)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],N.prototype,"opacity",void 0),Object(i.a)([Object(l.b)({type:["show","hide"]})],N.prototype,"listMode",void 0),N=Object(i.a)([Object(b.a)("esri.layers.LineOfSightLayer")],N);const T=N}}]);