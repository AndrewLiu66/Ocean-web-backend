(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[6],{145:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return d}));var n=a(34),c=(a(0),a(35)),i=a(238),s=a(3);const r=Object(c.a)(i.a)((e=>{let{theme:t,textTransformStyle:a,ellipsis:n}=e;return{textTransform:a||"none",whiteSpace:n?"nowrap":"normal",overflow:n?"hidden":"",textOverflow:n?"ellipsis":""}})),l=e=>{let{children:t,className:a,ellipsis:c,textTransform:i,...l}=e;return Object(s.jsx)(r,{textTransformStyle:i,ellipsis:c,className:Object(n.a)({[a||""]:!0}),component:"h4",mb:0,mt:0,fontSize:"16px",fontWeight:"500",lineHeight:"1.5",...l,children:t})},o=e=>{let{children:t,className:a,ellipsis:c,textTransform:i,...l}=e;return Object(s.jsx)(r,{textTransformStyle:i,ellipsis:c,className:Object(n.a)({[a||""]:!0}),component:"p",mb:0,mt:0,fontSize:"14px",...l,children:t})},d=e=>{let{children:t,className:a,ellipsis:c,textTransform:i,...l}=e;return Object(s.jsx)(r,{textTransformStyle:i,ellipsis:c,className:Object(n.a)({[a||""]:!0}),component:"span",lineHeight:"1.5",...l,children:t})}},153:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(185);const n=e=>{if(e.match("rgba")){return e.slice(5).split(",").slice(0,-1).join(",")}let t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return t=e.substring(1).split(""),3===t.length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),[t>>16&255,t>>8&255,255&t].join(",")}},263:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(109),s=a(264),r=a(57),l=a(271),o=a(272),d=a(261),j=a(275),b=a(262),m=a(254),p=a(258),x=a(117),h=a(107),u=a(24),O=a(153),g=a(269),f=a(266),v=(a(145),a(253)),w=a(196),y=a(252),S=a(42),C=a(265),D=a(43),k=a.n(D),z=a(186),B=a.n(z),M=a(194),T=a.n(M),I=a(193),N=a.n(I),E=a(3);const F=Object(h.a)(i.a)((()=>({display:"flex",alignItems:"center",justifyContent:"center",margin:"24px !important",marginTop:"0px !important"}))),P=Object(h.a)(i.a)((()=>({display:"flex",alignItems:"center"}))),A=Object(h.a)(s.a)((e=>{let{theme:t}=e;return{width:"130px",marginRight:"10px",[t.breakpoints.down("sm")]:{fontSize:"12px"}}})),L=Object(h.a)(i.a)((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",width:"100%",padding:".8rem 1.25rem",justifyContent:"space-between",borderBottom:"1px solid ".concat("rgba(".concat(Object(O.a)(t.palette.text.disabled),", 0.2)"))}})),H=Object(h.a)(g.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("lg")]:{width:"90vw",height:"80vh"},[t.breakpoints.down("md")]:{width:"90vw",height:"85vh"},[t.breakpoints.down("sm")]:{width:"90vw",height:"90vh"}}})),V=Object(h.a)("img")((e=>{let{theme:t}=e;return{borderRadius:"4px",[t.breakpoints.down("sm")]:{width:"110%"}}})),q=Object(h.a)("div")((()=>({fontSize:"16px",fontWeight:"500",lineHeight:"1.5"})));var G=e=>{let{currentLocation:t,open:a,handleClose:c}=e;const[i,s]=Object(n.useState)(new Date(2018,1,1)),[h,O]=Object(n.useState)(new Date(2018,1,3)),{palette:g}=Object(u.a)(),D=Object(r.b)(),z=g.text.primary,[M,I]=Object(n.useState)("Spectrogram"),[G,J]=Object(n.useState)("Spectrogram"),{initGraph:_}=Object(r.c)((e=>e.graph)),[R,W]=Object(n.useState)(!1),[Y,Z]=Object(n.useState)(""),[K,U]=Object(n.useState)(50);Object(n.useEffect)((()=>{W(!0);const e=t.replace(" ","_").toLowerCase();!async function(){await D(Object(S.d)(i,h,e))}()}),[]),Object(n.useEffect)((()=>{if("Spectrogram"===M||"Octave Band Median/Mean"===M){if(0!==Object.keys(_).length){W(!1);const e=document.getElementById("outer"),t=document.createElement("div");return t.setAttribute("id","graphBox"),e.appendChild(t),window.Bokeh.embed.embed_item(_,"graphBox"),()=>{if(document.getElementById("graphBox")){document.getElementById("graphBox").remove()}}}}else if("SPDF"===M){W(!1);let e=_.image.split("'")[1];Z(e)}}),[_]);const $=e=>e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate();return Object(E.jsx)(C.a,{open:a,sx:{zIndex:101},children:Object(E.jsxs)(H,{sx:{width:"70vw",height:"80vh",overflow:"scroll"},children:[Object(E.jsxs)(L,{children:[Object(E.jsxs)(q,{children:[t," Hydrophone Visualization"]}),Object(E.jsx)(l.a,{onClick:c,children:Object(E.jsx)(o.a,{sx:{color:z},children:"close"})})]}),Object(E.jsxs)(f.a,{container:!0,spacing:1,p:4,pb:0,sx:{"& .MuiTextField-root":{mb:1,width:"100%"}},children:[Object(E.jsx)(f.a,{item:!0,lg:3,md:3,sm:6,xs:12,children:Object(E.jsx)(w.a,{dateAdapter:v.a,children:Object(E.jsx)(y.a,{label:"Start Date",value:i,onChange:e=>{s(e)},minDate:new Date(2015,0,14),maxDate:new Date(2020,11,31),renderInput:e=>Object(E.jsx)(d.a,{...e})})})}),Object(E.jsx)(f.a,{item:!0,lg:3,md:3,sm:6,xs:12,children:Object(E.jsx)(w.a,{dateAdapter:v.a,children:Object(E.jsx)(y.a,{label:"End Date",value:h,onChange:e=>{O(e)},minDate:new Date(2015,0,14),maxDate:new Date(2020,11,31),renderInput:e=>Object(E.jsx)(d.a,{...e})})})}),Object(E.jsx)(f.a,{item:!0,lg:3,md:3,sm:6,xs:12,children:Object(E.jsxs)(j.a,{fullWidth:!0,sx:{mb:1,width:"100%"},children:[Object(E.jsx)(b.a,{id:"demo-simple-select-label",children:"Type"}),Object(E.jsxs)(m.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:G,label:"Type",defaultValue:"Spectrogram",onChange:e=>{J(e.target.value)},children:[Object(E.jsx)(p.a,{value:"Spectrogram",children:"Spectrogram"}),Object(E.jsx)(p.a,{value:"SPDF",children:"SPDF"}),Object(E.jsx)(p.a,{value:"Octave Band Median/Mean",children:"Octave Band Median/Mean"})]})]})}),Object(E.jsx)(f.a,{item:!0,lg:3,md:3,sm:6,xs:12,children:"Octave Band Median/Mean"===G?Object(E.jsx)(d.a,{required:!0,value:K,id:"outlined-required",label:"Required frequency",onChange:e=>{U(e.target.value)}}):Object(E.jsx)(d.a,{disabled:!0,defaultValue:"0",id:"outlined-required",label:"No frequency needed"})})]}),Object(E.jsx)(f.a,{container:!0,spacing:1,p:4,pt:1,children:Object(E.jsx)(f.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(E.jsxs)(P,{children:[Object(E.jsxs)(A,{variant:"contained",component:"span",onClick:()=>{W(!0),I(G);let e=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),a=h.getFullYear()+"-"+(h.getMonth()+1)+"-"+h.getDate();const n=t.replace(" ","_").toLowerCase();D(Object(S.e)(e,a,G,n,K))},children:[Object(E.jsx)(N.a,{sx:{mr:1}}),"Update"]}),Object(E.jsxs)(A,{variant:"contained",component:"span",onClick:()=>(()=>{const e=t.replace(" ","_").toLowerCase();k.a.post("/api/downloads",{startDate:i,endDate:h,location:e},{responseType:"blob"}).then((e=>{B()(e.data,"".concat(t+"-"+M+"-"+$(i)+"-"+$(h),".zip"))}))})(),sx:{backgroundColor:"#008255"},children:[Object(E.jsx)(T.a,{sx:{mr:1}}),"CSV"]}),"SPDF"===M&&"SPDF"===G&&!1===R?Object(E.jsxs)(A,{variant:"contained",sx:{backgroundColor:"#008255"},children:[Object(E.jsx)(T.a,{sx:{mr:1}}),Object(E.jsx)("a",{href:"data:image/jpeg;base64,".concat(Y),download:"".concat(t+"-"+M+"-"+$(i)+"-"+$(h),".jpg"),children:"JPG"})]}):Object(E.jsxs)(A,{disabled:!0,variant:"contained",sx:{backgroundColor:"#21b6ae"},children:[Object(E.jsx)(T.a,{sx:{mr:1}}),"JPG"]})]})})}),Object(E.jsxs)(f.a,{container:!0,children:[R&&Object(E.jsx)(f.a,{item:!0,lg:12,md:12,sm:12,xs:12,alignItems:"center",justifyContent:"center",textAlign:"center",mb:"20px",children:Object(E.jsx)(x.a,{size:24,className:"buttonProgress"})}),Object(E.jsx)(f.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:"SPDF"===M&&""!==Y&&Object(E.jsx)(F,{children:Object(E.jsx)(V,{src:"data:image/jpg;base64,".concat(Y)})})})]}),("Spectrogram"===M||"Octave Band Median/Mean"===M)&&Object(E.jsx)(F,{sx:{overflow:"auto"},id:"outer"})]})})},J=a(195),_=a(259),R=a(255);const W={cursor:"pointer",fill:"#db6607",stroke:"none"};class Y extends n.PureComponent{render(){const{size:e=20,onClick:t}=this.props;return Object(E.jsx)("svg",{height:e,viewBox:"0 0 24 24",style:{...W,transform:"translate(".concat(-e/2,"px,").concat(-e,"px)")},onClick:t,children:Object(E.jsx)("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"})})}}const Z=c.a.forwardRef((function(e,t){return Object(E.jsx)(R.a,{elevation:6,ref:t,variant:"filled",...e})})),K=[{location:"Slope Base",latitude:44.5153,longitude:-125.39},{location:"Axial Base",latitude:45.8168,longitude:-129.754},{location:"Southern Hydrate",latitude:44.5691,longitude:-125.1479},{location:"Central Caldera",latitude:45.9546,longitude:-130.0089},{location:"Eastern Caldera",latitude:45.9396,longitude:-129.9738}],U={id:"10m-bathymetry-81bsvj",type:"fill",source:"10m-bathymetry-81bsvj","source-layer":"10m-bathymetry-81bsvj",layout:{},paint:{"fill-outline-color":"hsla(337, 82%, 62%, 0)","fill-color":["interpolate",["cubic-bezier",0,.5,1,.5],["get","DEPTH"],200,"#78bced",9e3,"#15659f"]}};var $=function(){const[e,t]=Object(n.useState)(null),{graphList:a=[]}=Object(r.c)((e=>e.graph)),[l,o]=Object(n.useState)(!1),[d,j]=Object(n.useState)("axial_base"),b=Object(r.b)(),[m,p]=c.a.useState(!0),x=Object(n.useMemo)((()=>K.map(((e,a)=>Object(E.jsx)(J.b,{longitude:e.longitude,latitude:e.latitude,anchor:"bottom",onClick:a=>{a.originalEvent.stopPropagation(),t(e)},children:Object(E.jsx)(Y,{size:18})},"marker-".concat(a))))),[]);return Object(E.jsxs)(J.e,{style:{height:"100vh"},initialViewState:{latitude:46.1651,longitude:-123.9237,zoom:6,bearing:0,pitch:0},mapStyle:"mapbox://styles/mapbox/streets-v11",mapboxAccessToken:"pk.eyJ1IjoiYW5kcmV3bGl1MTIzNCIsImEiOiJjbDVjNTZpa2swZTBsM2NtdGludmRqNGN3In0.3WcKjr2AOAzmio8bLvV_kg",children:[Object(E.jsx)(J.d,{id:"10m-bathymetry-81bsvj",type:"vector",url:"mapbox://mapbox.9tm8dx88",children:Object(E.jsx)(J.a,{...U})}),Object(E.jsx)(_.a,{open:m,autoHideDuration:4e3,onClose:(e,t)=>{p(!1)},children:Object(E.jsx)(Z,{children:"Click 1 of the 5 pins to explore the Hydrophone!"})}),x,e&&Object(E.jsxs)(n.Fragment,{children:[Object(E.jsxs)(J.c,{anchor:"top",longitude:Number(e.longitude),latitude:Number(e.latitude),onClose:()=>t(null),children:[Object(E.jsx)(i.a,{sx:{fontSize:"16px",pb:1},children:"Loction:"}),Object(E.jsx)(i.a,{sx:{fontSize:"14px",pb:1},children:e.location}),Object(E.jsx)(s.a,{variant:"contained",color:"primary",size:"small",onClick:()=>((e,t)=>{o(e),j(t)})(!0,e.location),children:"Explore"})]}),l&&Object(E.jsx)(G,{currentLocation:d,graphData:a,handleClose:()=>{o(!1),b({type:S.b,payload:{}})},open:l})]})]})};t.default=()=>Object(E.jsx)($,{})}}]);